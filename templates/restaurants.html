{% extends "base.html" %}

{% block content %}

<h2>Restaurants</h2>

<!-- ðŸ” Search Box -->
<form method="get" class="mb-4">
    <input
        type="text"
        name="q"
        placeholder="Search restaurant..."
        value="{{ request.args.get('q', '') }}"
    >
    <button>Search</button>
</form>

<ul>
{% for r in restaurants %}
    <li>
        <b>{{ r.name }}</b> - {{ r.location }}<br>

        <a href="/restaurants/{{ r.id }}/edit">Edit</a> |

        <!-- ðŸ”’ Delete with POST -->
        <form action="/restaurants/{{ r.id }}/delete"
              method="post"
              style="display:inline;"
              onsubmit="return confirm('Are you sure you want to delete this restaurant?');">
            <button type="submit">Delete</button>
        </form>
    </li>
{% endfor %}
</ul>

{% if restaurants|length == 0 %}
<p>No restaurants found.</p>
{% endif %}

{% endblock %}